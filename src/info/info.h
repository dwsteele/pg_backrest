/***********************************************************************************************************************************
Info Handler for pgbackrest information
***********************************************************************************************************************************/
#ifndef INFO_INFO_H
#define INFO_INFO_H

#include "common/ini.h"
#include "crypto/hash.h"

/***********************************************************************************************************************************
Info object
***********************************************************************************************************************************/
typedef struct Info Info;

/***********************************************************************************************************************************
Functions
***********************************************************************************************************************************/
Info *infoNew(const String *fileName, const bool ignoreMissing);
Ini *infoIni(const Info *this);
CryptoHash *infoHash(Ini *ini);
String * infoFileName(const Info *this);
bool infoExists(const Info *this);

void infoFree(Info *this);

/***********************************************************************************************************************************
Macros for function logging
***********************************************************************************************************************************/
#define FUNCTION_DEBUG_INFO_TYPE                                                                                                   \
    Info *
#define FUNCTION_DEBUG_INFO_FORMAT(value, buffer, bufferSize)                                                                      \
    objToLog(value, "Info", buffer, bufferSize)

#endif
